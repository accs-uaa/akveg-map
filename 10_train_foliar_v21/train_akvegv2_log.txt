cd /data/gis/raster_base/Alaska/AKVegMap/akveg-working

# Quick test
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py \
    --group betshr \
    --round_date test_round_20251002_lgbm_embRand \
    --predictors emb \
    --covariate_input 20250930/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand.csv \
    --presence_threshold 3 \
    --species_suffix _100rows_3338.csv \
    --init_points 5 --n_iter 5

# Full round with random year embeddings, updated extract on snap raster

#PAGP6
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group alnus    --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group bderishr --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group betshr   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group bettre   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group brotre   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group chaang   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70

#PAGP7
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group dryas    --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group dsalix   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group empnig   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group erivag   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group fesalt   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group leymol   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70

#PAGP8
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group mwcalama --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group ndsalix  --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group nerishr  --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group picgla   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group picmar   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group picsit   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70

#mason8
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group poptre   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group populbt  --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group rhoshr   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70

#mason0
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group rubcha   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group rubspe   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group senpse   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70

#mason1
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group sphagn   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group tsumer   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group vaculi   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70

#mason2
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group vacvit   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py --group wetsed   --round_date round_20251003_lgbm_embRand_s1_s2_topo --predictors emb s1 s2 topo --covariate_input 20251003/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand_v20251003.csv --presence_threshold 3 --species_suffix _3338.csv --init_points 30 --n_iter 70

alnus
bderishr
betshr
bettre
brotre
chaang
dryas
dsalix
empnig
erivag
fesalt
leymol
mwcalama
ndsalix
nerishr
picgla
picmar
picsit
poptre
populbt
rhoshr
rubcha
rubspe
senpse
sphagn
tsumer
vaculi
vacvit
wetsed
# Quick test RF
python3 scripts/00a_Train_and_Validate_RF_Abundance.py \
    --group betshr \
    --round_date test_round_20251002_rf_embRand \
    --predictors emb \
    --covariate_input 20250930/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand.csv \
    --presence_threshold 3 \
    --species_suffix _100rows_3338.csv 

# Run 3 main LGBM variants (embeddings, akvegv2, both) using random year embeddings on plots
python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py \
    --group betshr \
    --round_date round_20251002_lgbm_embRand \
    --predictors emb \
    --covariate_input 20250930/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand.csv \
    --presence_threshold 3 \
    --species_suffix _3338.csv \
    --init_points 30 --n_iter 70

python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py \
    --group betshr \
    --round_date round_20251002_lgbm_embRand_clim_s1_s2_topo \
    --predictors emb clim s1 s2 topo \
    --covariate_input 20250930/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand.csv \
    --presence_threshold 3 \
    --species_suffix _3338.csv \
    --init_points 30 --n_iter 70

python3 scripts/00b_Train_and_Validate_LGBM_Abundance.py \
    --group betshr \
    --round_date round_20251002_lgbm_clim_s1_s2_topo \
    --predictors clim s1 s2 topo \
    --covariate_input 20250930/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand.csv \
    --presence_threshold 3 \
    --species_suffix _3338.csv \
    --init_points 30 --n_iter 70

# Run 3 main RF variants (embeddings, akvegv2, both) using random year embeddings on plots
python3 scripts/00a_Train_and_Validate_RF_Abundance.py \
    --group betshr \
    --round_date round_20251002_rf_embRand \
    --predictors emb \
    --covariate_input 20250930/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand.csv \
    --presence_threshold 3 \
    --species_suffix _3338.csv
    
python3 scripts/00a_Train_and_Validate_RF_Abundance.py \
    --group betshr \
    --round_date round_20251002_rf_embRand_clim_s1_s2_topo \
    --predictors emb clim s1 s2 topo \
    --covariate_input 20250930/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand.csv \
    --presence_threshold 3 \
    --species_suffix _3338.csv

python3 scripts/00a_Train_and_Validate_RF_Abundance.py \
    --group betshr \
    --round_date round_20251002_rf_clim_s1_s2_topo \
    --predictors clim s1 s2 topo \
    --covariate_input 20250930/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_rand.csv \
    --presence_threshold 3 \
    --species_suffix _3338.csv

# Run 3 main RF variants (embeddings, akvegv2, both) using 2017 embeddings on plots
python3 scripts/00a_Train_and_Validate_RF_Abundance.py \
    --group betshr \
    --round_date round_20251002_rf_emb2017 \
    --predictors emb \
    --covariate_input 20250930/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_2017.csv \
    --presence_threshold 3 \
    --species_suffix _3338.csv
    
python3 scripts/00a_Train_and_Validate_RF_Abundance.py \
    --group betshr \
    --round_date round_20251002_rf_emb2017_clim_s1_s2_topo \
    --predictors emb clim s1 s2 topo \
    --covariate_input 20250930/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_2017.csv \
    --presence_threshold 3 \
    --species_suffix _3338.csv

python3 scripts/00a_Train_and_Validate_RF_Abundance.py \
    --group betshr \
    --round_date round_20251002_rf_clim_s1_s2_topo_check \
    --predictors clim s1 s2 topo \
    --covariate_input 20250930/03_site_visit_all_buffer_3338_20250408_x_akveg_covar_emb_2017.csv \
    --presence_threshold 3 \
    --species_suffix _3338.csv

# Upload treestrings
cd /data/gis/raster_base/Alaska/AKVegMap/akveg-working
gsutil -m rsync -r -x '^(?!.*treestring\.txt$).*' \
  ./Data_Output/model_results gs://akveg-data/model_results

gsutil -m rsync -r -x '^(?!.*threshold_final\.txt$).*' \
  ./Data_Output/model_results gs://akveg-data/model_results
